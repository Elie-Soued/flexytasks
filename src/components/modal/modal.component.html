<div class="backdrop"></div>
<dialog open>
  <div class="d-flex flex-column justify-content-center text-center pt-1 pb-1">
    <span
      class="input-group-text"
      style="
        border-radius: 0px;
        padding: 0px;
        margin: 0px;
        border: none;
        background-color: transparent;
      "
    >
      <button class="btn" style="border-radius: 0px" (click)="closeModal()">
        <fa-icon class="iconColor" [icon]="closeModalIcon"></fa-icon>
      </button>
    </span>

    <span>Password Reset</span>
  </div>

  <form
    id="resetPasswordForm"
    #resetPasswordForm="ngForm"
    (ngSubmit)="resetPassword()"
    [hidden]="this.success"
  >
    <div class="d-flex justify-content-center p-2">
      <input
        type="text"
        name="username"
        id="username"
        class="form-control w-75"
        required
        placeholder="Enter your username"
        [(ngModel)]="username"
        (ngModelChange)="error = ''"
        #usernameInput="ngModel"
      />
    </div>
    <div class="d-flex justify-content-center p-2">
      <input
        type="text"
        name="email"
        id="email"
        class="form-control w-75"
        required
        placeholder="Enter your email account"
        [(ngModel)]="email"
        (ngModelChange)="error = ''"
        #emailInput="ngModel"
      />
    </div>

    <div
      class="d-flex flex-column justify-content-center text-center pt-1 mb-5 pb-1"
    >
      <div class="d-flex justify-content-center p-2">
        <button
          class="btn btn-primary btn-block fa-lg mb-3 active w-75"
          type="submit"
          id="submit"
          [disabled]="!resetPasswordForm.form.valid"
        >
          Send reset instructions
        </button>
      </div>
    </div>
  </form>
  <div [hidden]="!this.error" id="errorMessage" class="alert alert-danger">
    {{ error }}
  </div>
  <div [hidden]="!this.success" id="success" class="alert alert-success">
    {{ success }}
  </div>
</dialog>
